import{I as f,u as d,r as p,O as m,b as A}from"./cyCOdGck.js";import{U as y}from"./D2ZKPdBb.js";import{a as _,u as C}from"./CAC1Cd_U.js";const R=f("arrangementStore",()=>{const{APP_MAX_ROW_NUM:n,LOCAL_STORAGE_CONTENT:a}=d().public.CONSTANTS,t=p({row:n,style:"CARD"}),e=p({isStyleToggled:!1,updateCallbackList:[]}),c=async()=>{const s=await y.getItem(a);s?t.style=s.style:y.setItem(a,{...t}),e.isStyleToggled=t.style==="APP",o()},o=()=>{e.isStyleToggled?u("APP",!0):u("CARD",!0)},i=()=>{y.setItem(a,{...t}),e.updateCallbackList.map(async s=>await s())},r=async s=>{await c(),e.updateCallbackList.push(s)},l=async(s,g=!0)=>{t.row=s,g&&i()},u=(s,g=!0)=>{t.style=s,g&&i()},I=()=>(e.isStyleToggled=!e.isStyleToggled,o(),S()),T=()=>t.row,S=()=>t.style;return{register:r,setRow:l,setStyle:u,click:I,getRow:T,getStyle:S,getIsToggled:()=>e.isStyleToggled,getUpdate:()=>{let s=T(),g=S();return{row:s,style:g}}}}),O=f("historyStore",()=>{const{public:{CONSTANTS:{APP_ID:n}}}=d(),a=()=>`${n}-history`,t=(c,o)=>{const i=a(),r=e(),l=r.find(u=>u.title===o);if(l){r.splice(r.indexOf(l),1),r.push(l),localStorage.setItem(i,JSON.stringify(r));return}r.push({id:crypto.randomUUID(),title:o}),localStorage.setItem(i,JSON.stringify(r))},e=()=>{const c=a(),o=localStorage.getItem(c)??"[]";return o?JSON.parse(o):[]};return{addHistory:t,getHistory:e}}),U=async(n,a=!0)=>{const{public:{CONSTANTS:{IS_FOR_WEB:t,TOAST_WARNING_TIMEOUT:e}}}=d(),c=O(),o=m();if(t){_().show(n,a);return}o.hideMenu(),c.addHistory(n.id,n.title);const i=await C().route2Content(n);i&&A().warning(i,{timeout:e})};export{O as a,R as b,U as u};
