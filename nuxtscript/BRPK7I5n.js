import{_ as v}from"./nFTQw9pf.js";import{d as y,e as a,u as w,k as S,b as k,r as h,o as T,c as C,h as u,y as O,a as e,z as E,_ as N}from"./cyCOdGck.js";import{_ as A}from"./DQR-C10r.js";import{u as V}from"./BZUlQEFK.js";const $={class:"mt-4 mx-auto text-center text-white w-full md:w-1/2 h-full px-10 overflow-x-hidden selection:bg-gray-500"},B={class:"mb-6",onsubmit:"return false"},R={class:"mb-6"},D={class:"mb-6"},L=y({__name:"post",setup(F){const n=a(),r=a(),{TOAST_ERROR_TIMEOUT:f,TOAST_SUCCESS_TIMEOUT:b}=w().public.CONSTANTS,p=V(),c=S(),m=k(),i=a(!1),o=h({type:"none",title:"",context:""}),g=s=>{o.type=s.target.value},_=async()=>{n.value&&(o.context=await n.value.getContext()),r.value&&(o.title=r.value.value);const{type:s,title:t,context:l}=o;if(console.log("data: ",o),i.value||s==="none"||!t||!l)return;i.value=!0,c.show({msg:"공지 사항 등록 중..."}),await p.post(s,t,l)?m.success("문의를 성공적으로 보냈어요",{timeout:b}):m.error("내용을 보내는 중 뭔가 잘못됬어요. 잠시 후에 다시 시도해주세요",{timeout:f}),c.hide(),i.value=!1};return(s,t)=>{const l=v,d=N,x=A;return T(),C("div",$,[u(x,null,{default:O(()=>[t[4]||(t[4]=e("h5",{id:"drawer-label",class:"inline-flex items-center text-purple-600 mb-12 font-semibold uppercase"},[e("svg",{class:"w-4 h-4 mr-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 16"},[e("path",{d:"m10.036 8.278 9.258-7.79A1.979 1.979 0 0 0 18 0H2A1.987 1.987 0 0 0 .641.541l9.395 7.737Z"}),e("path",{d:"M11.241 9.817c-.36.275-.801.425-1.255.427-.428 0-.845-.138-1.187-.395L0 2.6V14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2.5l-8.759 7.317Z"})]),E(" 공지 등록 ")],-1)),e("form",B,[t[3]||(t[3]=e("label",{for:"countries",class:"block mb-2 text-sm font-medium"},"공지 주제 선택 *",-1)),e("select",{id:"countries",class:"bg-gray-50 mb-6 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",required:"",onChange:g},t[0]||(t[0]=[e("option",{value:"none",selected:""},"선택해주세요",-1),e("option",{value:"guide"},"안내 사항 관련",-1),e("option",{value:"event"},"이벤트 관련",-1),e("option",{value:"bug"},"버그 관련",-1),e("option",{value:"etc"},"그 외",-1)]),32),e("div",R,[t[1]||(t[1]=e("label",{for:"email",class:"block mb-2 text-sm font-medium"},"공지 제목",-1)),e("input",{ref_key:"$title",ref:r,type:"title",class:"bg-gray-50 border border-gray-300 text-sm text-black rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",required:""},null,512)]),e("div",D,[t[2]||(t[2]=e("label",{for:"message",class:"block mb-2 text-sm font-medium"},"공지 내용 *",-1)),u(l,{ref_key:"$editor",ref:n},null,512)]),e("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 w-full focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 block",onClick:_}," 공지 등록 ")]),u(d,{isConsideredFooter:!0})]),_:1})])}}});export{L as default};
